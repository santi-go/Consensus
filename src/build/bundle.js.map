{"version":3,"sources":["webpack:///src/build/bundle.js","webpack:///webpack/bootstrap 361b1f70409f63711765","webpack:///./src/js/main.js","webpack:///./src/js/invited.js","webpack:///./src/js/proposer.js","webpack:///./src/js/proposal.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_invited","_proposer","_proposal","Invited","initialize","Proposer","Proposal","value","container","EMAIL_PATTERN","containerId","this","document","getElementById","prepareEvents","querySelector","addEventListener","extractMail","bind","emailsList","parseMail","length","createEmailBox","cleanInput","emailElement","box","createElement","appendChild","innerText","email","theClass","valid","classList","add","createRemoveButton","validateEmail","test","text","trim","emails","tokenize","result","push","tokens","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","token","trimmed","err","return","removeEmailBox","event","emailBox","target","parentElement","removeChild","removeButton","textContent","input","checkForMail","maskInput","isValid","markValidity","pressedKeyCode","which","character","String","fromCharCode","isAllowedIn","preventDefault","thePattern","selectPattern","matches","remove","pattern","RegExp","exec","patterns","local","domain","includes","inputContainer","outputContainer","inputContainerId","pasteProposal","pastedText","clipboardData","getData","sanitize","newBlock","addBlockTags","innerHTML","replace","lines","line","addTag","lineInProcess","addBrTag","addParagraphTag"],"mappings":"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","file":"./src/build/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _invited = __webpack_require__(1);\n\nvar _proposer = __webpack_require__(2);\n\nvar _proposal = __webpack_require__(3);\n\n_invited.Invited.initialize('guests-email');\n_proposer.Proposer.initialize('proposer-email');\n_proposal.Proposal.initialize('proposal');\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Invited = exports.Invited = {\n  container: null,\n  EMAIL_PATTERN: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n\n  initialize: function initialize(containerId) {\n    this.container = document.getElementById(containerId);\n    this.prepareEvents();\n  },\n\n  prepareEvents: function prepareEvents() {\n    var input = this.container.querySelector('input');\n    input.addEventListener('blur', this.extractMail.bind(this));\n  },\n\n  extractMail: function extractMail() {\n    var emailsList = this.parseMail();\n    for (var i = 0; i < emailsList.length; i++) {\n      this.createEmailBox(emailsList[i]);\n    }\n    this.cleanInput();\n  },\n\n  createEmailBox: function createEmailBox(emailElement) {\n    var box = document.createElement('div');\n    this.container.querySelector('div').appendChild(box);\n    box.innerText = emailElement.email;\n    var theClass = \"invalidBox\";\n    if (emailElement.valid) {\n      theClass = \"validBox\";\n    }\n    box.classList.add(theClass);\n    this.createRemoveButton(box);\n  },\n\n  cleanInput: function cleanInput() {\n    var input = this.container.querySelector('input');\n    input.value = \"\";\n  },\n\n  validateEmail: function validateEmail(email) {\n    return this.EMAIL_PATTERN.test(email);\n  },\n\n  parseMail: function parseMail() {\n    var text = this.container.querySelector('input').value;\n    if (text.trim() == '') return [];\n\n    var emails = this.tokenize(text);\n    var result = [];\n    for (var i = 0; i < emails.length; i++) {\n      result.push({\n        email: emails[i],\n        valid: this.validateEmail(emails[i])\n      });\n    }\n    return result;\n  },\n\n  tokenize: function tokenize(text) {\n    var tokens = text.split(\",\");\n    var result = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = tokens[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var token = _step.value;\n\n        var trimmed = token.trim();\n        if (trimmed != \"\") {\n          result.push(trimmed);\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return result;\n  },\n\n  removeEmailBox: function removeEmailBox(event) {\n    var emailBox = event.target.parentElement;\n    emailBox.parentElement.removeChild(emailBox);\n  },\n\n  createRemoveButton: function createRemoveButton(emailBox) {\n    var removeButton = document.createElement('div');\n    emailBox.appendChild(removeButton);\n    removeButton.classList.add(\"close\");\n    removeButton.textContent = \"x\";\n    removeButton.addEventListener(\"click\", this.removeEmailBox);\n  }\n\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Proposer = exports.Proposer = {\n  container: null,\n  EMAIL_PATTERN: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n\n  initialize: function initialize(containerId) {\n    this.container = document.getElementById(containerId);\n    this.prepareEvents();\n  },\n\n  prepareEvents: function prepareEvents() {\n    var input = this.container.querySelector('input');\n    input.addEventListener('blur', this.checkForMail.bind(this));\n    input.addEventListener('keypress', this.maskInput.bind(this));\n  },\n\n  checkForMail: function checkForMail(event) {\n    var text = event.target.value;\n    var isValid = this.validateEmail(text);\n    this.markValidity(isValid);\n  },\n\n  maskInput: function maskInput(event) {\n    var text = event.target.value;\n    var pressedKeyCode = event.which;\n    var character = String.fromCharCode(pressedKeyCode);\n    var isAllowed = this.isAllowedIn(text, character);\n    if (!isAllowed) {\n      event.preventDefault();\n    }\n  },\n\n  isAllowedIn: function isAllowedIn(text, character) {\n    var thePattern = this.selectPattern(text);\n    return this.matches(thePattern, character);\n  },\n\n  markValidity: function markValidity(isValid) {\n    var mark = 'invalid';\n    if (isValid) {\n      this.container.classList.remove(mark);\n    } else {\n      this.container.classList.add(mark);\n    }\n  },\n\n  validateEmail: function validateEmail(email) {\n    if (email.trim() == '') return true;\n    return this.EMAIL_PATTERN.test(email);\n  },\n\n  matches: function matches(pattern, character) {\n    var matcher = new RegExp(pattern);\n    var result = matcher.exec(character);\n    return result;\n  },\n\n  selectPattern: function selectPattern(text) {\n    var patterns = {\n      local: /[@!#$%&'*+/=?^_`{|}~.-]|[a-z]|[0-9]/ig,\n      domain: /[.-]|[a-z]|[0-9]/ig\n    };\n    var result = patterns.local;\n    if (text.includes('@')) result = patterns.domain;\n    return result;\n  }\n\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Proposal = exports.Proposal = {\n  inputContainer: null,\n  outputContainer: null,\n\n  initialize: function initialize(inputContainerId) {\n    var container = document.getElementById(inputContainerId);\n    this.inputContainer = container.querySelector('pre');\n    this.inputContainer.textContent = \"Insert your proposal here...\";\n    this.outputContainer = container.querySelector('output');\n    this.prepareEvents();\n  },\n\n  prepareEvents: function prepareEvents() {\n    this.inputContainer.addEventListener('paste', this.pasteProposal.bind(this));\n  },\n\n  pasteProposal: function pasteProposal(event) {\n    var pastedText = event.clipboardData.getData('text');\n    var text = this.sanitize(pastedText);\n    var newBlock = this.addBlockTags(text);\n    this.outputContainer.innerHTML = newBlock;\n  },\n\n  sanitize: function sanitize(text) {\n    var result = text.replace(/<(?:.|\\n)*?>/gm, '');\n    return result;\n  },\n\n  addBlockTags: function addBlockTags(text) {\n    var newBlock = '';\n    var lines = text.split(\"\\n\");\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = lines[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var line = _step.value;\n\n        newBlock += this.addTag(line);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return newBlock;\n  },\n\n  addTag: function addTag(line) {\n    var convertedLine = \"\";\n    var lineInProcess = line.trim();\n    if (lineInProcess == \"\") {\n      convertedLine = this.addBrTag();\n    } else {\n      convertedLine = this.addParagraphTag(lineInProcess);\n    }\n    return convertedLine;\n  },\n\n  addBrTag: function addBrTag() {\n    return \"<br>\\n\";\n  },\n\n  addParagraphTag: function addParagraphTag(lineInProcess) {\n    return \"<p>\" + lineInProcess + \"</p>\\n\";\n  }\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// src/build/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 361b1f70409f63711765","import {Invited} from './invited'\nimport {Proposer} from './proposer'\nimport {Proposal} from './proposal'\n\nInvited.initialize('guests-email');\nProposer.initialize('proposer-email');\nProposal.initialize('proposal');\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export let Invited = {\n  container: null,\n  EMAIL_PATTERN: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n\n  initialize: function(containerId) {\n    this.container = document.getElementById(containerId);\n    this.prepareEvents();\n  },\n\n  prepareEvents: function() {\n    let input = this.container.querySelector('input');\n    input.addEventListener('blur', this.extractMail.bind(this));\n  },\n\n  extractMail: function() {\n    let emailsList = this.parseMail();\n    for (let i = 0; i < emailsList.length; i++){\n      this.createEmailBox(emailsList[i]);\n    }\n    this.cleanInput();\n  },\n\n  createEmailBox: function(emailElement){\n    let box = document.createElement('div');\n    this.container.querySelector('div').appendChild(box);\n    box.innerText = emailElement.email;\n    let theClass = \"invalidBox\";\n    if(emailElement.valid){\n      theClass = \"validBox\";\n    }\n    box.classList.add(theClass);\n    this.createRemoveButton(box);\n  },\n\n  cleanInput: function(){\n    let input = this.container.querySelector('input');\n    input.value = \"\";\n  },\n\n  validateEmail: function(email){\n    return this.EMAIL_PATTERN.test(email);\n  },\n\n  parseMail: function() {\n    let text = this.container.querySelector('input').value;\n    if(text.trim() == '') return [];\n\n    let emails = this.tokenize(text);\n    let result = [];\n    for(let i = 0; i < emails.length; i++){\n      result.push({\n        email: emails[i],\n        valid: this.validateEmail(emails[i])\n      });\n    }\n    return result;\n  },\n\n  tokenize: function(text) {\n    let tokens = text.split(\",\");\n    let result = [];\n    for (let token of tokens) {\n      let trimmed = token.trim();\n      if (trimmed != \"\") {result.push(trimmed);}\n    }\n    return result;\n  },\n\n  removeEmailBox: function(event) {\n    let emailBox = event.target.parentElement;\n    emailBox.parentElement.removeChild(emailBox);\n  },\n\n  createRemoveButton: function(emailBox) {\n    let removeButton = document.createElement('div');\n    emailBox.appendChild(removeButton);\n    removeButton.classList.add(\"close\");\n    removeButton.textContent = \"x\";\n    removeButton.addEventListener(\"click\", this.removeEmailBox);\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/invited.js","export var Proposer = {\n  container: null,\n  EMAIL_PATTERN: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n\n  initialize: function(containerId) {\n    this.container = document.getElementById(containerId);\n    this.prepareEvents();\n  },\n\n  prepareEvents: function(){\n    var input = this.container.querySelector('input');\n    input.addEventListener('blur', this.checkForMail.bind(this));\n    input.addEventListener('keypress', this.maskInput.bind(this));\n  },\n\n  checkForMail: function(event) {\n    var text = event.target.value;\n    var isValid = this.validateEmail(text);\n    this.markValidity(isValid);\n  },\n\n  maskInput: function(event) {\n    var text = event.target.value;\n    var pressedKeyCode = event.which;\n    var character = String.fromCharCode(pressedKeyCode);\n    var isAllowed = this.isAllowedIn(text, character);\n    if(!isAllowed) {\n      event.preventDefault();\n    }\n  },\n\n  isAllowedIn: function(text, character){\n    var thePattern = this.selectPattern(text);\n    return this.matches(thePattern, character);\n  },\n\n  markValidity: function(isValid) {\n    var mark = 'invalid';\n    if(isValid) {\n      this.container.classList.remove(mark);\n    } else {\n      this.container.classList.add(mark);\n    }\n  },\n\n  validateEmail: function(email){\n    if(email.trim()=='') return true;\n    return this.EMAIL_PATTERN.test(email);\n  },\n\n  matches: function(pattern, character) {\n    var matcher = new RegExp(pattern);\n    var result = matcher.exec(character);\n    return result;\n  },\n\n  selectPattern: function(text) {\n    var patterns = {\n      local: /[@!#$%&'*+/=?^_`{|}~.-]|[a-z]|[0-9]/ig,\n      domain: /[.-]|[a-z]|[0-9]/ig\n    };\n    var result = patterns.local;\n    if(text.includes('@')) result = patterns.domain;\n    return result;\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/proposer.js","export var Proposal = {\n  inputContainer: null,\n  outputContainer: null,\n\n  initialize: function(inputContainerId) {\n    let container = document.getElementById(inputContainerId);\n    this.inputContainer = container.querySelector('pre');\n    this.inputContainer.textContent = \"Insert your proposal here...\";\n    this.outputContainer = container.querySelector('output');\n    this.prepareEvents();\n  },\n\n  prepareEvents: function() {\n    this.inputContainer.addEventListener('paste', this.pasteProposal.bind(this));\n  },\n\n  pasteProposal: function(event) {\n    let pastedText = event.clipboardData.getData('text');\n    let text = this.sanitize(pastedText);\n    let newBlock = this.addBlockTags(text);\n    this.outputContainer.innerHTML = newBlock;\n  },\n\n  sanitize: function(text) {\n    let result = text.replace(/<(?:.|\\n)*?>/gm, '');\n    return result;\n  },\n\n  addBlockTags: function(text) {\n    let newBlock = '';\n    let lines = text.split(\"\\n\");\n    for (let line of lines){\n      newBlock += this.addTag(line);\n    }\n    return newBlock;\n  },\n\n  addTag: function(line) {\n    let convertedLine = \"\";\n    let lineInProcess = line.trim();\n    if (lineInProcess == \"\") {\n      convertedLine = this.addBrTag();\n    } else {\n      convertedLine = this.addParagraphTag(lineInProcess);\n    }\n    return convertedLine;\n  },\n\n  addBrTag: () => {\n    return \"<br>\\n\";\n  },\n\n  addParagraphTag: (lineInProcess) => {\n    return \"<p>\" + lineInProcess + \"</p>\\n\";\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/proposal.js"],"sourceRoot":""}